<head>

  <!-- Cookiebot (ALWAYS FIRST) -->
  <script
    id="Cookiebot"
    src="https://consent.cookiebot.com/uc.js"
    data-cbid="501a395d-6225-4f22-a958-ac2d84bdbd7a"
    data-blockingmode="auto"
    type="text/javascript">
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>ICU Pharmacopoeia | Critical Care Tools</title>

  <meta
    name="description"
    content="ICU drug infusion reference and dose calculator. Educational and clinical support tool."
  />

  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#020617" />

  <link rel="manifest" href="/manifest.json" />

  <!-- Canonical -->
  <link
    rel="canonical"
    href="https://criticalcaretools.com/en/calculadorasen/infusion-farmacosen/farmacotecaen.html"
  />

  <!-- Hreflang -->
  <link
    rel="alternate"
    hreflang="en"
    href="https://criticalcaretools.com/en/calculadorasen/infusion-farmacosen/farmacotecaen.html"
  />
  <link
    rel="alternate"
    hreflang="es"
    href="https://criticalcaretools.com/calculadoras/infusion-farmacos/farmacoteca.html"
  />
  <link
    rel="alternate"
    hreflang="x-default"
    href="https://criticalcaretools.com/"
  />

  <!-- Open Graph -->
  <meta property="og:title" content="ICU Pharmacopoeia | Critical Care Tools" />
  <meta
    property="og:description"
    content="ICU drug infusion reference and dosing guide."
  />
  <meta property="og:type" content="website" />
  <meta
    property="og:url"
    content="https://criticalcaretools.com/en/calculadorasen/infusion-farmacosen/farmacotecaen.html"
  />

  <!-- CSS -->
  <link
    rel="stylesheet"
    href="/en/calculadorasen/infusion-farmacosen/farmacotecaen.css"
  />

  <!-- GA4 (managed by Cookiebot) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WQREHQ56Q4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-WQREHQ56Q4', { anonymize_ip: true });
  </script>

</head>


<body class="app-root">
<main class="container">

  <!-- Language Switcher -->
<div class="language-switcher">
  <a href="/en/calculadorasen/infusion-farmacosen/farmacotecaen.html" class="active">EN</a> |
  <a href="/calculadoras/infusion-farmacos/farmacoteca.html">ES</a>
</div>

<!-- Breadcrumb -->
<nav class="breadcrumb" aria-label="Breadcrumb">
  <a href="/en/indexen.html">Home</a>
  <span aria-hidden="true">›</span>
  <a href="/en/calculadorasen/infusion-farmacosen/farmacosen.html">
    Drug Dosing
  </a>
  <span aria-hidden="true">›</span>
  <span>ICU Pharmacopoeia</span>
</nav>


  <section class="card controls">
  <div class="controls-grid">

    <div>
      <label for="q">Search drug</label>
      <input
        id="q"
        type="search"
        placeholder="e.g. Norepinephrine, Epinephrine…"
        autocomplete="off"
      />
    </div>

    <div>
      <label for="grupo">Group</label>
      <select id="grupo">
        <option value="all">All</option>
        <option value="vasopresores">Vasopressors</option>
        <option value="inotropicos">Inodilators</option>
        <option value="sedantes">Sedatives</option>
        <option value="analgesicos">Analgesics</option>
        <option value="relajantes">Neuromuscular Blockers</option>
        <option value="vasodilatadores">Vasodilators</option>
      </select>
    </div>

    <div class="controls-actions">
      <button type="button" class="btn secondary" id="btnReset">
        Reset
      </button>
    </div>

  </div>

  <div class="hint">
    Tip: search by name or filter by pharmacologic group.
  </div>
</section>

  <h2>Vasopressors</h2>

<article class="drug-card" data-group="vasopresores" data-calc="mcg-kg-min">
<header class="drug-head">
<h3>Norepinephrine</h3>
<button class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<select class="dilucion">
<option value="">Dilution</option>
<option data-mcg-per-ml="16">4 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="80">8 mg in 100 ml D5W or NS</option>
<option data-mcg-per-ml="80">20 mg in 250 ml D5W or NS</option>
</select>

<div>Concentration: <b class="concentracion">—</b></div>
<input class="peso" placeholder="Weight kg">
<input class="velocidad" placeholder="Rate ml/h">
<div>Dose: <b class="resultado">—</b></div>
</section>
</article>

  <article class="drug-card" data-group="vasopresores" data-calc="mcg-kg-min">
<header class="drug-head">
<h3>Epinephrine</h3>
<button class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<select class="dilucion">
<option value="">Dilution</option>
<option data-mcg-per-ml="16">4 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="32">8 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="10">1 mg in 100 ml D5W or NS</option>
</select>

<div>Concentration: <b class="concentracion">—</b></div>
<input class="peso" placeholder="Weight kg">
<input class="velocidad" placeholder="Rate ml/h">
<div>Dose: <b class="resultado">—</b></div>
</section>
</article>

  <article class="drug-card" data-group="vasopresores" data-calc="mcg-kg-min">
<header class="drug-head">
<h3>Epinephrine</h3>
<button class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<select class="dilucion">
<option value="">Dilution</option>
<option data-mcg-per-ml="16">4 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="32">8 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="10">1 mg in 100 ml D5W or NS</option>
</select>

<div>Concentration: <b class="concentracion">—</b></div>
<input class="peso" placeholder="Weight kg">
<input class="velocidad" placeholder="Rate ml/h">
<div>Dose: <b class="resultado">—</b></div>
</section>
</article>

  <article class="drug-card" data-group="vasopresores" data-calc="mcg-kg-min">
<header class="drug-head">
<h3>Dopamine</h3>
<button class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<select class="dilucion">
<option value="">Dilution</option>
<option data-mcg-per-ml="400">200 mg in 500 ml D5W or NS</option>
<option data-mcg-per-ml="800">200 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="1600">400 mg in 250 ml D5W or NS</option>
</select>

<div>Concentration: <b class="concentracion">—</b></div>
<input class="peso" placeholder="Weight kg">
<input class="velocidad" placeholder="Rate ml/h">
<div>Dose: <b class="resultado">—</b></div>

<div class="clinical-note">
<b>Clinical note:</b> 1–3 mcg/kg/min (dopaminergic renal effect, no proven benefit), 3–10 mcg/kg/min (β1 inotropic effect ↑ CO, tachycardia risk), >10–20 mcg/kg/min (α1 vasopressor ↑ SVR/BP, higher arrhythmia & ischemia risk).
</div>
</section>
</article>

  <h2>Vasodilators</h2>
<article class="drug-card" data-group="vasodilatadores" data-calc="mcg-min">
<header class="drug-head">
<h3>Nitroglycerin</h3>
<p class="muted small">Venous vasodilator</p>
<button class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>50 mg / 10 ml</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mcg-per-ml="200">50 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="500">50 mg in 100 ml D5W or NS</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mcg/min</b></div>
</div>

<div class="calc-block">
<label>Rate (ml/hr)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> Start 5–10 mcg/min. Titrate to BP and symptoms. Max dose: 200 mcg/min.
</div>
</section>
</article>

  <article class="drug-card" data-group="vasodilatadores" data-calc="mcg-kg-min">
<header class="drug-head">
<h3>Sodium Nitroprusside</h3>
<p class="muted small">Arterial & venous vasodilator</p>
<button class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>50 mg / 2 ml</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mcg-per-ml="200">50 mg in 250 ml D5W or NS</option>
<option data-mcg-per-ml="500">50 mg in 100 ml D5W or NS</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mcg/kg/min</b></div>
</div>

<div class="calc-block">
<label>Weight (kg)
<input type="number" class="peso" step="0.1" min="0">
</label>

<label>Rate (ml/h)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> 0.3–10 mcg/kg/min. Protect from light. Cyanide/thiocyanate toxicity risk.
</div>
</section>
</article>

  <article class="drug-card" data-group="vasodilatadores" data-calc="mg-min">
<header class="drug-head">
<h3>Labetalol</h3>
<p class="muted small">α/β blocker</p>
<button class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>100 mg / 20 ml</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mg-per-ml="2">200 mg in 60 ml D5W or NS</option>
<option data-mg-per-ml="2">400 mg in 120 ml D5W or NS</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mg/min</b></div>
</div>

<div class="calc-block">
<label>Rate (ml/h)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> Max dose: 2 mg/min. Monitor HR, BP, bronchospasm.
</div>
</section>
</article>

  <h2>Inodilators</h2>
<article class="drug-card" data-group="inotropicos" data-calc="mcg-kg-min">
<header class="drug-head">
<div>
<h3>Dobutamine</h3>
<p class="muted small">Inodilator</p>
</div>
<button type="button" class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>250 mg / 20 ml</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mcg-per-ml="2000">500 mg in 250 ml D5W or NS</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mcg/kg/min</b></div>
</div>

<div class="calc-block">
<h4>Dose calculation</h4>
<div class="calc-grid">
<label>Weight (kg)
<input type="number" class="peso" step="0.1" min="0">
</label>

<label>Rate (ml/h)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> 2–20 mcg/kg/min. Monitor HR and arrhythmias.
</div>
</section>
</article>

  <article class="drug-card" data-group="inotropicos" data-calc="mcg-kg-min">
<header class="drug-head">
<div>
<h3>Milrinone</h3>
<p class="muted small">Inodilator (PDE-3 inhibitor)</p>
</div>
<button type="button" class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>10 mg / 10 ml</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mcg-per-ml="100">10 mg in 100 ml D5W or NS</option>
<option data-mcg-per-ml="80">20 mg in 250 ml D5W or NS</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mcg/kg/min</b></div>
</div>

<div class="calc-block">
<h4>Dose calculation</h4>
<div class="calc-grid">
<label>Weight (kg)
<input type="number" class="peso" step="0.1" min="0">
</label>

<label>Rate (ml/h)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> 0.125–0.75 mcg/kg/min. Adjust in renal failure.
</div>
</section>
</article>

  <article class="drug-card" data-group="inotropicos" data-calc="mcg-kg-min">
<header class="drug-head">
<div>
<h3>Levosimendan</h3>
<p class="muted small">Calcium sensitizer inodilator</p>
</div>
<button type="button" class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>12.5 mg / 5 ml</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mcg-per-ml="50">12.5 mg in 250 ml D5W or NS</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mcg/kg/min</b></div>
</div>

<div class="calc-block">
<h4>Dose calculation</h4>
<div class="calc-grid">
<label>Weight (kg)
<input type="number" class="peso" step="0.1" min="0">
</label>

<label>Rate (ml/h)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> 0.05–0.2 mcg/kg/min. Avoid bolus if hypotensive.
</div>
</section>
</article>

  <h2>Sedatives</h2>
<article class="drug-card" data-group="sedantes" data-calc="mg-kg-h">
<header class="drug-head">
<div>
<h3>Propofol</h3>
<p class="muted small">Hypnotic sedative</p>
</div>
<button type="button" class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>20 mg / 1 ml (2%)</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mg-per-ml="20">Undiluted (2%)</option>
<option data-mg-per-ml="4">200 mg in 50 ml</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mg/kg/h</b></div>
</div>

<div class="calc-block">
<div class="calc-grid">
<label>Weight (kg)
<input type="number" class="peso" step="0.1" min="0">
</label>

<label>Rate (ml/h)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> 0.5–5 mg/kg/h. Monitor hypotension, hypertriglyceridemia, PRIS.
</div>
</section>
</article>

  <article class="drug-card" data-group="sedantes" data-calc="mg-kg-h">
<header class="drug-head">
<div>
<h3>Propofol</h3>
<p class="muted small">Hypnotic sedative</p>
</div>
<button type="button" class="btn toggle-sheet">View sheet</button>
</header>

<section class="drug-sheet hidden">
<div class="sheet-grid">
<div><span>Presentation</span><b>20 mg / 1 ml (2%)</b></div>

<div>
<span>Common dilution</span>
<select class="dilucion">
<option value="">Select</option>
<option data-mg-per-ml="20">Undiluted (2%)</option>
<option data-mg-per-ml="4">200 mg in 50 ml</option>
</select>
</div>

<div><span>Concentration</span><b class="concentracion">—</b></div>
<div><span>Unit</span><b>mg/kg/h</b></div>
</div>

<div class="calc-block">
<div class="calc-grid">
<label>Weight (kg)
<input type="number" class="peso" step="0.1" min="0">
</label>

<label>Rate (ml/h)
<input type="number" class="velocidad" step="0.1" min="0">
</label>

<div class="calc-result">
<span>Delivered dose</span>
<b class="resultado">—</b>
</div>
</div>
</div>

<div class="clinical-note">
<b>Clinical note:</b> 0.5–5 mg/kg/h. Monitor hypotension, hypertriglyceridemia, PRIS.
</div>
</section>
</article>

<article class="drug-card" data-group="sedantes" data-calc="mcg-kg-hr">
  <header class="drug-head">
    <div>
      <h3>Dexmedetomidine</h3>
      <p class="muted small">α2 agonist</p>
    </div>
    <button type="button" class="btn toggle-sheet">View sheet</button>
  </header>

  <section class="drug-sheet hidden">
    <div class="sheet-grid">
      <div><span>Presentation</span><b>200 mcg / 2 ml</b></div>

      <div>
        <span>Common dilution</span>
        <select class="dilucion">
          <option value="">Select</option>
          <option data-mcg-per-ml="4">400 mcg in 100 ml (NS)</option>
        </select>
      </div>

      <div><span>Concentration</span><b class="concentracion">—</b></div>
      <div><span>Unit</span><b>mcg/kg/hr</b></div>
    </div>

    <div class="calc-block">
      <div class="calc-grid">
        <label>Weight (kg)
          <input type="number" class="peso" step="0.1" min="0">
        </label>

        <label>Rate (ml/h)
          <input type="number" class="velocidad" step="0.1" min="0">
        </label>

        <div class="calc-result">
          <span>Delivered dose</span>
          <b class="resultado">—</b>
        </div>
      </div>
    </div>

    <div class="clinical-note">
      <b>Clinical note:</b> 0.2–1.5 mcg/kg/hr. Monitor bradycardia and hypotension.
    </div>
  </section>
</article>

  <h2>Analgesics</h2>

  <article class="drug-card" data-group="analgesicos" data-calc="mcg-kg-h">
  <header class="drug-head">
    <div>
      <h3>Fentanyl</h3>
      <p class="muted small">Opioid</p>
    </div>
    <button class="btn toggle-sheet">View sheet</button>
  </header>

  <section class="drug-sheet hidden">
    <div class="sheet-grid">
      <div><span>Presentation</span><b>500 mcg / 10 ml</b></div>

      <div>
        <span>Common dilution</span>
        <select class="dilucion">
          <option value="">Select</option>
          <option data-mcg-per-ml="10">1000 mcg in 100 ml D5W or NS</option>
          <option data-mcg-per-ml="3">750 mcg in 250 ml D5W or NS</option>
          <option data-mcg-per-ml="2">500 mcg in 250 ml D5W or NS</option>
        </select>
      </div>

      <div><span>Concentration</span><b class="concentracion">—</b></div>
      <div><span>Unit</span><b>mcg/kg/h</b></div>
    </div>

    <div class="calc-block">
      <label>Weight (kg)
        <input type="number" class="peso" step="0.1" min="0">
      </label>

      <label>Rate (ml/h)
        <input type="number" class="velocidad" step="0.1" min="0">
      </label>

      <div class="calc-result">
        <span>Delivered dose</span>
        <b class="resultado">—</b>
      </div>
    </div>

    <div class="clinical-note">
      <b>Clinical note:</b> 0.5–5 mcg/kg/h. Monitor respiratory depression and chest wall rigidity.
    </div>
  </section>
</article>

  <article class="drug-card" data-group="analgesicos" data-calc="mcg-kg-min">
  <header class="drug-head">
    <div>
      <h3>Remifentanil</h3>
      <p class="muted small">Ultra–short acting opioid</p>
    </div>
    <button class="btn toggle-sheet">View sheet</button>
  </header>

  <section class="drug-sheet hidden">
    <div class="sheet-grid">
      <div><span>Presentation</span><b>5 mg / vial</b></div>

      <div>
        <span>Common dilution</span>
        <select class="dilucion">
          <option value="">Select</option>
          <option data-mcg-per-ml="20">5 mg in 250 ml</option>
          <option data-mcg-per-ml="50">5 mg in 100 ml</option>
        </select>
      </div>

      <div><span>Concentration</span><b class="concentracion">—</b></div>
      <div><span>Unit</span><b>mcg/kg/min</b></div>
    </div>

    <div class="calc-block">
      <label>Weight (kg)
        <input type="number" class="peso" step="0.1" min="0">
      </label>

      <label>Rate (ml/h)
        <input type="number" class="velocidad" step="0.1" min="0">
      </label>

      <div class="calc-result">
        <span>Delivered dose</span>
        <b class="resultado">—</b>
      </div>
    </div>

    <div class="clinical-note">
      <b>Clinical note:</b> 0.05–2 mcg/kg/min. Ultra–rapid onset and offset.
    </div>
  </section>
</article>

  <h2>Neuromuscular blockers</h2>

  <article class="drug-card" data-group="relajantes" data-calc="mcg-kg-min">
  <header class="drug-head">
    <div>
      <h3>Atracurium</h3>
      <p class="muted small">Non-depolarizing NMB</p>
    </div>
    <button class="btn toggle-sheet">View sheet</button>
  </header>

  <section class="drug-sheet hidden">
    <div class="sheet-grid">
      <div><span>Presentation</span><b>50 mg / 5 ml</b></div>

      <div>
        <span>Common dilution</span>
        <select class="dilucion">
          <option value="">Select</option>
          <option data-mcg-per-ml="500">
            100,000 mcg in 200 ml (D5W / NS) — final total volume
          </option>
        </select>
      </div>

      <div><span>Concentration</span><b class="concentracion">—</b></div>
      <div><span>Unit</span><b>mcg/kg/min</b></div>
    </div>

    <div class="calc-block">
      <label>Weight (kg)
        <input type="number" class="peso" step="0.1" min="0">
      </label>

      <label>Rate (ml/h)
        <input type="number" class="velocidad" step="0.1" min="0">
      </label>

      <div class="calc-result">
        <span>Delivered dose</span>
        <b class="resultado">—</b>
      </div>
    </div>

    <div class="clinical-note">
      <b>Clinical note:</b> Dose range 2–20 mcg/kg/min.
    </div>
  </section>
</article>

  </main>

<footer class="site-footer">
  <nav class="footer-nav">
    <a href="/en/referencias-bibliograficasen/referenciasen.html">Scientific References</a>
    ·
    <a href="/en/legalen/legalen.html">Legal Notice</a>
    ·
    <a href="/en/privacidad-cookiesen/privacidaden.html">Privacy & Cookies</a>
  </nav>

  <p class="footer-copy">
    © 2026 Critical Care Tools · Educational and clinical support use.
    Does not replace medical judgment or institutional guidelines.
  </p>
</footer>

<script
  src="/en/calculadorasen/infusion-farmacosen/farmacotecaen.js"
  defer
></script>



  <script>
document.addEventListener("click", e => {
  const btn = e.target.closest(".toggle-sheet");
  if (!btn) return;

  const card = btn.closest(".drug-card");
  const sheet = card.querySelector(".drug-sheet");

  sheet.classList.toggle("hidden");
  btn.textContent = sheet.classList.contains("hidden")
    ? "View sheet"
    : "Hide sheet";
});

document.addEventListener("input", e => {
  const card = e.target.closest(".drug-card");
  if (card) calc(card);
});

document.addEventListener("change", e => {
  const card = e.target.closest(".drug-card");
  if (card) calc(card);
});

function calc(card) {
  const type = card.dataset.calc;
  const dil = card.querySelector(".dilucion")?.selectedOptions[0];
  if (!dil) return;

  const vel = parseFloat(card.querySelector(".velocidad")?.value);
  const peso = parseFloat(card.querySelector(".peso")?.value);

  let conc, res, unit = "";

  const outConc = card.querySelector(".concentracion");
  const outRes = card.querySelector(".resultado");

  if (!outRes) return;

  // ================= mcg/kg/min =================
  if (type === "mcg-kg-min") {
    conc = +dil.dataset.mcgPerMl;
    unit = "mcg/kg/min";
    outConc.textContent = conc + " mcg/ml";

    if (vel > 0 && peso > 0) {
      res = (vel * conc) / (peso * 60);
    }
  }

  // ================= mcg/min =================
  if (type === "mcg-min") {
    conc = +dil.dataset.mcgPerMl;
    unit = "mcg/min";
    outConc.textContent = conc + " mcg/ml";

    if (vel > 0) {
      res = (vel * conc) / 60;
    }
  }

  // ================= mcg/kg/h =================
  if (type === "mcg-kg-h") {
    conc = +dil.dataset.mcgPerMl;
    unit = "mcg/kg/h";
    outConc.textContent = conc + " mcg/ml";

    if (vel > 0 && peso > 0) {
      res = (vel * conc) / peso;
    }
  }

  // ================= mcg/kg/hr =================
  if (type === "mcg-kg-hr") {
    conc = +dil.dataset.mcgPerMl;
    unit = "mcg/kg/hr";
    outConc.textContent = conc + " mcg/ml";

    if (vel > 0 && peso > 0) {
      res = (vel * conc) / peso;
    }
  }

  // ================= mg/kg/h =================
  if (type === "mg-kg-h") {
    conc = +dil.dataset.mgPerMl;
    unit = "mg/kg/h";
    outConc.textContent = conc + " mg/ml";

    if (vel > 0 && peso > 0) {
      res = (vel * conc) / peso;
    }
  }

  // ================= mg/kg/hr =================
  if (type === "mg-kg-hr") {
    conc = +dil.dataset.mgPerMl;
    unit = "mg/kg/hr";
    outConc.textContent = conc + " mg/ml";

    if (vel > 0 && peso > 0) {
      res = (vel * conc) / peso;
    }
  }

  // ================= mg/min =================
  if (type === "mg-min") {
    conc = +dil.dataset.mgPerMl;
    unit = "mg/min";
    outConc.textContent = conc + " mg/ml";

    if (vel > 0) {
      res = (vel * conc) / 60;
    }
  }

  // ================= IU/min =================
  if (type === "ui-min") {
    conc = +dil.dataset.uiPerMl;
    unit = "IU/min";
    outConc.textContent = conc + " IU/ml";

    if (vel > 0) {
      res = (vel * conc) / 60;
    }
  }

  // ================= Output =================
  if (res && isFinite(res)) {
    outRes.textContent = res.toFixed(2) + " " + unit;
  } else {
    outRes.textContent = "—";
  }
}
</script>


  <script>
document.addEventListener("DOMContentLoaded", () => {

  const qInput = document.getElementById("q");
  const grupoSelect = document.getElementById("grupo");
  const resetBtn = document.getElementById("btnReset");
  const cards = document.querySelectorAll(".drug-card");
  const headers = document.querySelectorAll("main h2");

  function filterDrugs() {
    const text = qInput.value.toLowerCase().trim();
    const group = grupoSelect.value;

    cards.forEach(card => {
      const name = card.querySelector("h3")?.textContent.toLowerCase() || "";
      const cardGroup = card.dataset.group;

      const visible =
        name.includes(text) &&
        (group === "all" || group === cardGroup);

      card.style.display = visible ? "" : "none";
    });

    // Hide section titles with no visible results
    headers.forEach(h2 => {
      let hasVisible = false;
      let el = h2.nextElementSibling;

      while (el && !el.matches("h2")) {
        if (
          el.classList.contains("drug-card") &&
          el.style.display !== "none"
        ) {
          hasVisible = true;
          break;
        }
        el = el.nextElementSibling;
      }

      h2.style.display = hasVisible ? "" : "none";
    });
  }

  qInput.addEventListener("input", filterDrugs);
  grupoSelect.addEventListener("change", filterDrugs);

  resetBtn.addEventListener("click", () => {
    qInput.value = "";
    grupoSelect.value = "all";
    filterDrugs();
  });

});
</script>

</body>
</html>

